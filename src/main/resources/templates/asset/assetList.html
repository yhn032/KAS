<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout/header :: header">
    <meta charset="UTF-8">
    <title>재고 조회</title>
</head>
<body>
    <div th:replace="layout/navBar :: navBar"></div>
    <div th:replace="layout/sidebar :: sidebar"></div>
    <div class="asset-main">
        <button class="content-toggle-btn" onclick="toggleSidebar()">◀</button>
        <form class="search-form" id="searchForm">
            <div class="form-div">
                <input type="text" id="searchTerm" name="searchTerm" autocomplete="off" required>
                <label>Searching Asset</label>
                <span></span>
                <button type="button" onclick="search()">검색</button>
            </div>
        </form>
        <div class="asset-container" th:if="${assetList.size() > 0}">
            <div class="asset-item" th:each="asset : ${assetList}">
                <div style="display: none" th:text="${asset.getAssetId()}"></div>
                <div class="asset-category">
                    <span th:text="${'🎀 ' + asset.getAssetCtg()}"></span>
                </div>
                <div class="asset-thumb_img">
                    <span th:if="${asset.getAssetImgs().size() > 0}">
                        <img th:src="'/img/uploads/asset/' + ${asset.getAssetImgs().get(0).getSaveName()}">
                    </span>
                    <span th:unless="${asset.getAssetImgs().size() > 0}">
                        <img src="">
                    </span>
                </div>
                <div class="asset-title">
                    <span th:text="${'📑 '+asset.getAssetName()}"></span>
                </div>
                <div class="asset-meta-data">
                    <span th:text="${'🔗 '+asset.getAssetRemainCnt() + '개'}"></span>
                    <span th:text="${'👉'+asset.getAssetPos()}"></span>
                    <span th:text="${'🙌 '+asset.getRegTeacherName()}"></span><br>
                    <span th:text="${'📆 '+#strings.substring(asset.getAssetUpdDate(), 0, 10)}"></span>
                </div>

            </div>
        </div>
        <div class="asset-container" th:unless="${assetList.size() > 0}">
            <div class="asset-error">
                검색 결과가 없습니다.
            </div>
        </div>
        <th:block th:if="${assetList.size() > 0}" th:insert="~{asset/pagination}"></th:block>
    </div>
    <div th:replace="layout/footer :: footer"></div>

    <div id="assetDtlForm" class="pop-asset-layer" style="display: none">
        <div class="pop-dtl-container">
            <h2>상세 정보</h2>
            <div id="assetItem" class="asset-item-dtl">
                <div style="display: none" id="assetId"></div>
                <div class="asset-thumb_img" id="assetThumbImg">
                    <span>
                        <img src="">
                    </span>
                </div>
            </div>
            <div class="asset-item-sharing">
                <div class="asset-category">
                    <label for="assetCtg">자산 카테고리</label>
                    🎀 <span id="assetCtg"></span>
                </div>
                <div class="asset-title" id="assetTitle">
                    <label for="assetCtg">자산명</label>
                    📑 <span></span>
                </div>
                <div class="asset-meta-datas">
                    <label for="assetRemainCnt">자산명</label>
                    🔗 <span id="assetRemainCnt"></span>개
                    <label for="assetPos">자산위치</label>
                    👉 <span id="assetPos"></span>
                    <label for="regTeacherName">등록 선생님</label>
                    🙌 <span id="regTeacherName"></span>
                    <label for="assetUpdDate">최종 수정일자</label>
                    📆 <span id="assetUpdDate"></span>
                </div>
                대여 내역
                <span id="share-list-now"></span>
            </div>
        </div>
        <button class="btn" type="button" onclick="layerPopHide(this)">닫기</button>
    </div>
</body>
</html>